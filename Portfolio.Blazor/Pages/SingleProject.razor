@page "/projectentry/{ProjectId:int}"
@inject Portfolio.Blazor.ProjectApiService portfoiliApi
@inject NavigationManager navManager
@using Portfolio.Shared
@using Portfolio.Shared.ViewModels
<h3>@Title</h3>

<label>Project Title:</label>
<label>@Title</label>
<br />
<br />

<label>Project Requirementes:</label>
<br />
<label>@Requirementes</label>
<br />

<label>Project Design:</label>
<br />
<label>@Desgin</label>
<br />

<label>Langauges:</label>
<br />
<div>
    @foreach (var lan in Languages ?? new string[] { })
    {
        <br />
        <label><a class="text-primary">@lan</a></label>
    }
</div>
<br />

<label>Project CompletionDate: </label>
<label>@CompletionDate</label>
<br />

@code {
    [Parameter]
    public int ProjectId { get; set; }

    public ProjectViewModel CurrentProject { get; set; }
    public string Title { get; set; }
    public string Requirementes { get; set; }
    public string Desgin { get; set; }
    public DateTime CompletionDate { get; set; }

    private IEnumerable<string> Languages { get; set; }

    protected override async Task OnInitializedAsync()
    {
        CurrentProject = await portfoiliApi.GetProjectByIdAsync(ProjectId);

        Title = CurrentProject.Title;
        Requirementes = CurrentProject.Requirements;
        Desgin = CurrentProject.Design;
        CompletionDate = CurrentProject.CompletionDate;
        Languages = CurrentProject.Languages;
    }

}
